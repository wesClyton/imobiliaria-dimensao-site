<div *ngIf="announcement" class="inside-page">

  <app-announcement-gallery [announcement]="announcement"></app-announcement-gallery>

  <div class="grid-1">
    <div class="box-1">
      <div class="announcement">
        <h1 class="heading">{{ announcement.titulo }}</h1>
        <small class="type">{{ announcement.tipo | announcementType }}</small>
        <p class="address">{{ announcement.endereco }} - {{ announcement.bairro.nome }} - {{ announcement.bairro.cidade | cityState }}</p>
        <strong class="amount">{{ announcement.valor | currencyBr }}</strong>

        <div class="numbers">
          <div *ngIf="announcement.areaTotal">
            <i class="icon-metragem"></i>
            <strong>Área</strong>
            <p>{{ announcement.areaTotal | m2 }}</p>
          </div>
          <div *ngIf="announcement.suites">
            <i class="icon-dormitorios"></i>
            <strong>Suítes</strong>
            <p>{{ announcement.suites }}</p>
          </div>
          <div *ngIf="announcement.dormitorios">
            <i class="icon-dormitorios"></i>
            <strong>Dormitórios</strong>
            <p>{{ announcement.dormitorios }}</p>
          </div>
          <div *ngIf="announcement.banheiros">
            <i class="icon-banheiros"></i>
            <strong>Banheiros</strong>
            <p>{{ announcement.banheiros }}</p>
          </div>
          <div *ngIf="announcement.vagasGaragem">
            <i class="icon-garagem"></i>
            <strong>Vagas</strong>
            <p>{{ announcement.vagasGaragem }}</p>
          </div>
        </div>

        <div *ngIf="announcement.sobre" class="about">
          <h2 class="heading">Sobre o imóvel</h2>
          <p>{{ announcement.sobre }}</p>
        </div>

        <div class="characteristics">
          <div *ngIf="characteristicsImovel?.length" class="imovel">
            <h2 class="heading">Características do imóvel</h2>
            <div class="tags">
              <div class="tag" *ngFor="let characteristic of characteristicsImovel">
                {{ characteristic.nome }}
              </div>
            </div>
          </div>

          <div *ngIf="characteristicsInstalacoes?.length" class="condominio">
            <h2 class="heading">Instalações do condomínio</h2>
            <div class="tags">
              <div class="tag" *ngFor="let characteristic of characteristicsInstalacoes">
                {{ characteristic.nome }}
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="interesse">
        <button class="btn btn-sm btn-primary-3" (click)="toggleModal()">Tenho Interesse</button>
      </div>

      <div *ngIf="announcements?.length" class="more">
        <h2 class="heading">Você também pode se interessar</h2>
        <ul class="announcements">
          <li class="item" *ngFor="let announcement of announcements;">
            <app-announcement-list-item [announcement]="announcement"></app-announcement-list-item>
          </li>
        </ul>
      </div>
    </div>

    <div class="box-2" [ngClass]="{'display-modal': showModal }">
      <div class="box-form">
        <button class="close-button icon-close" (click)="toggleModal()"></button>
        <p>Para saber mais sobre esse imóvel entre agora em contato atravé do formulário abaixo.</p>
        <form class="form" [formGroup]="form" (ngSubmit)="submit()">
          <div class="input-field">
            <label>Nome</label>
            <input ngDefaultControl class="input" type="text" formControlName="nome" placeholder="Informe seu Nome">
            <span *ngIf="controlNomeHasError" class="input-error">Informe um Nome</span>
          </div>

          <div class="input-field">
            <label>E-mail</label>
            <input ngDefaultControl class="input" type="email" formControlName="email" placeholder="Informe seu E-mail">
            <span *ngIf="controlEmailHasError" class="input-error">Informe um E-mail válido</span>
          </div>

          <div class="input-field">
            <label>Telefone/Celular</label>
            <input ngDefaultControl appPhone class="input" type="tel" formControlName="telefone" placeholder="Informe seu Telefone/Celular">
            <span *ngIf="controlTelefoneHasError" class="input-error">Informe um Telefone/Celular</span>
          </div>

          <button class="btn btn-sm btn-primary-3" type="submit">Enviar</button>
        </form>

        <p class="announcement-code">Código do imóvel: <strong>{{ announcement.codigoAnuncio | uppercase }}</strong></p>
      </div>
    </div>
  </div>

</div>
