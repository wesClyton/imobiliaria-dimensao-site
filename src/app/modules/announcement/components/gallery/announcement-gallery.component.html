<ng-container *ngIf="announcement">
  <section class="announcement-gallery">

    <div class="box-content">
      <swiper *ngIf="showPhotos && swiperConfig" [config]="swiperConfig">
        <ng-template swiperSlide *ngFor="let photo of announcement.galeria?.fotos;">
          <div class="photo" (click)="openModal()">
            <img [src]="photo.nome | pathImage: 'anuncios': photo.galeriaId" [alt]="photo.nome">
          </div>
        </ng-template>
      </swiper>

      <div *ngIf="showVideo" class="box-video">
        <app-youtube-iframe [videoId]="announcement.urlVideo"></app-youtube-iframe>
      </div>

      <div *ngIf="showMap" class="box-map">
        <google-map
          #myGoogleMap
          width="100%"
          height="100%"
          [center]="center"
          [options]="options">

          <map-marker
            *ngIf="marker"
            #markerElem="mapMarker"
            [icon]="iconPin"
            [position]="marker.position"
            [title]="marker.announcement.titulo">
          </map-marker>
        </google-map>
      </div>
    </div>

    <div class="actions">
      <div class="announcement-buttons">
        <button
          *ngIf="announcement.galeria.fotos[0]"
          class="btn"
          type="button"
          [ngClass]="{
            'btn-outline' : !showPhotos,
            'btn-primary-4' : !showPhotos,
            'btn-primary-3' : showPhotos
          }"
          (click)="photosClick()">
          Fotos
        </button>
        <button
          *ngIf="announcement.urlVideo"
          class="btn"
          type="button"
          [ngClass]="{
            'btn-outline' : !showVideo,
            'btn-primary-4' : !showVideo,
            'btn-primary-3' : showVideo
          }"
          (click)="videosClick()">
          Vídeo
        </button>
        <button
          *ngIf="announcement.url360"
          class="btn"
          type="button"
          [ngClass]="{
            'btn-outline' : !showTour360,
            'btn-primary-4' : !showTour360,
            'btn-primary-3' : showTour360
          }"
          (click)="tour360Click()">
          Tour 360°
        </button>
        <button
          *ngIf="announcement.urlMapa"
          class="btn"
          type="button"
          [ngClass]="{
            'btn-outline' : !showMap,
            'btn-primary-4' : !showMap,
            'btn-primary-3' : showMap
          }"
          (click)="mapClick()">
          Mapa
        </button>
      </div>
      <div class="copy-link" (click)="copyLink()">
        <mat-icon>share</mat-icon>
        <span>compartilhar</span>
      </div>
    </div>

  </section>

  <section *ngIf="isOpened" class="announcement-modal"></section>
</ng-container>
